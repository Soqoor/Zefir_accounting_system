{% extends 'frontend/base.html' %}

{% load static %}

{% block content %}

<div class="container">
	<div class="row">
		<div class="col-md-4">
			<div class="row">
				<div class="col-md-7">
					<h4>
						Заказ # {{ pk }}
					</h4>
				</div>

				<div class="row">
					<div class="col">
						<span id="order_ok_alert" class="badge badge-success collapse">Success</span>
						<!-- <label id="order_ok_alert" type="button" class="btn btn-success btn-sm">Сохранено</label> -->
					</div>
				</div>

				<div class="col">
					<button type="button" class="btn btn-outline-danger btn-sm float-right">&#128465;</button>
				</div>
			</div>

			<form id="order_form">
				<div class="row">

					<div class="col-md-6">
						<div class="form-group">
							<label for="date_created">Создан:</label>
							<input type="date" class="form-control form-control-sm" id="date_created" name="date_created" disabled></input>
						</div>
						<div class="form-group">
							<label for="date_planed">Отправка:</label>
							<input type="date" class="form-control form-control-sm" id="date_planed" name="date_planed"></input>
						</div>
						<div class="form-group">
							<label for="date_deadline">Дата праздника:</label>
							<input type="date" class="form-control form-control-sm" id="date_deadline" name="date_deadline"></input>
						</div>
						<div class="form-group">
							<label for="date_payed">Оплачено:</label> 
							<input type="text" class="form-control form-control-sm" id="date_payed" name="date_payed" placeholder="Не оплачено"></input>
						</div>
						<div class="form-group">
							<label for="date_sent">Отправлено:</label>
							<input type="text" class="form-control form-control-sm" id="date_sent" name="date_sent" placeholder="Не отправлено"></input>
						</div>
					</div>

					<div class="col-md-6">
						<div class="form-group dropdown">
							<label for="instagram">Instagram:</label>
							<input type="text" class="form-control form-control-sm" id="instagram" name="instagram" aria-haspopup="true" aria-expanded="false"></input>
							<div class="dropdown-menu" id='client_dropdown' aria-labelledby="instagram"></div>
						</div>
						<div class="form-group">
							<label for="phone">Телефон:</label>
							<input type="text" class="tel form-control form-control-sm" id="phone" name="phone"></input>
						</div>
						<div class="form-group">
							<label for="name">ФИО:</label>
							<input type="text" class="form-control form-control-sm" id="name" name="name"></input>
						</div>
						<div class="form-group">
							<label for="city">Город:</label>
							<input type="text" class="form-control form-control-sm" id="city" name="city"></input>
						</div>
						<div class="form-group">
							<label for="np_department">Отделение НП:</label>
							<input type="text" class="form-control form-control-sm" id="np_department" name="np_department"></input>
						</div>
					</div>

				</div>

				<div class="row">
					<div class="col-md-12">
						<button type="button" id="btn_save" class="btn btn-outline-success btn-sm btn-block">Сохранить</button>
					</div>
				</div>


			</form>
		</div>

		<div class="col">
			<div class="row">
				<div class="col">
					<h4>
						Позиции заказа
					</h4>
				</div>
				<div class="col">
					<button type="button" id="minus" class="btn btn-outline-danger btn-sm float-right">&#9473;</button>
					<button type="button" id="plus" class="btn btn-outline-success btn-sm float-right" data-toggle="modal" data-target="#addItemModal">&#9547;</button>
				</div>
			</div>

			<table class="table table-hover table-sm">
				<thead>
				  <tr>
					<th scope="col">Категория</th>
					<th scope="col">Товар</th>
					<th scope="col">Описание</th>
					<th scope="col">Шт.</th>
					<th scope="col">Цена</th>
					<th scope="col">Сумма</th>
				  </tr>
				</thead>
				<tbody class="table_body">
		  
				</tbody>
			  </table>
		</div>
	</div>
</div>

<div class="modal fade" id="addItemModal" tabindex="-1" role="dialog" aria-labelledby="addItemModalTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
	  <div class="modal-content">
		<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLongTitle">Добавить товар к заказу</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">
			<div class="container-fluid">
				<form id="order_form">
					<div class="row">
						<div class="col-md-12">
							<div class="dropdown">
								<div class="form-group">
									<label for="product">Товар</label>
									<input type="text" class="form-control form-control-sm" id="product" name="product" autocomplete="off"></input>
									<div class="dropdown-menu" id='product_dropdown' aria-labelledby="product"></div>
								</div>
							</div>
							<div class="form-group">
								<label for="date_planed">Описание</label>
								<input type="text" class="form-control form-control-sm" id="description" name="description"></input>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label for="product">Кол-во</label>
								<input type="number" class="form-control form-control-sm" id="amount" name="amount"></input>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label for="product">Цена</label>
								<input type="number" class="form-control form-control-sm" id="price" name="price"></input>
							</div>
						</div>
					</div>
	
				</form>
			</div>
		  </div>
		<div class="modal-footer">
		  <button type="button" id="btn_add_item_cancel" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
		  <button type="button" id="btn_add_item" class="btn btn-success">Добавить</button>
		</div>
	  </div>
	</div>
  </div>


{% endblock %}


{% block script %}
<script src="{% static 'frontend/js/global_variables.js' %}"></script>
<script src="{% static 'frontend/js/OE_tel_mask.js' %}"></script>
<script src="{% static 'frontend/js/OE_date_placeholder.js' %}"></script>
<script src="{% static 'frontend/js/OE_load.js' %}"></script>
<script src="{% static 'frontend/js/OE_save.js' %}"></script>
<script src="{% static 'frontend/js/OE_items.js' %}"></script>
<script src="{% static 'frontend/js/OE_client_popover.js' %}"></script>
<script src="{% static 'frontend/js/OE_add_item.js' %}"></script>
{% endblock %}